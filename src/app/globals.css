@import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard-dynamic-subset.min.css');

@import 'tailwindcss';
@import 'tw-animate-css';

@custom-variant dark (&:is(.dark *));

@theme inline {
  --color-border: var(--border);
  --color-background: var(--background);
  --color-foreground: var(--foreground);

  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-secondary-hover: var(--secondary-hover);
  --color-secondary-inverse: var(--secondary-inverse);

  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-accent-hover: var(--accent-hover);

  --color-error: var(--error);

  --font-sans:
    'Pretendard Variable', Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue',
    'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji',
    'Segoe UI Symbol', sans-serif;
  --font-source-code-pro: var(--source-code-pro);

  --z-header: 100;
  --z-scroll-progress-bar: 200;
  --z-alert: 1000;
}

:root {
  --border: hsla(0, 0%, 92%, 1);
  --background: #ffffff;
  --foreground: #171717;

  --secondary: #f2f2f2;
  --secondary-foreground: #666666;
  --secondary-hover: #e6e6e6;
  --secondary-inverse: #383838;

  --accent: hsla(212, 100%, 97%, 1);
  --accent-foreground: oklch(57.61% 0.2508 258.23);
  --accent-hover: #c9e2ff;

  --error: #f24040;
}

.dark {
  --border: hsla(0, 0%, 12%, 1);
  --background: #000000;
  --foreground: #ededed;

  --secondary: #1a1a1a;
  --secondary-foreground: #888888;
  --secondary-hover: #1f1f1f;
  --secondary-inverse: #cccccc;

  --accent: hsla(216, 50%, 12%, 1);
  --accent-foreground: #52a8ff;
  --accent-hover: #1a2738;

  --error: #f24040;
}

@layer base {
  * {
    @apply border-border transition-colors duration-300 ease-in-out;
  }

  body {
    @apply bg-background text-foreground;
  }

  .transitions-limited * {
    @apply !transition-opacity !transition-transform;
  }
}

@layer components {
  .tiptap h2 {
    @apply text-foreground mt-12 mb-6 scroll-mt-10 border-t pt-10 text-2xl leading-[1.3em] font-semibold;
  }

  .tiptap h3 {
    @apply text-foreground mt-8 mb-3 scroll-mt-20 text-xl leading-[1.6em] font-semibold;
  }

  .tiptap p {
    @apply text-foreground mb-5 text-base leading-7;
  }

  .tiptap ul {
    @apply text-foreground mb-5 list-disc pl-5 text-base leading-7;
  }

  .tiptap ol {
    @apply text-foreground mb-5 list-decimal pl-5 text-base leading-7;
  }

  .tiptap li {
    @apply text-foreground mb-2;
  }

  .tiptap p code {
    @apply rounded-md border border-[hsl(210,0%,93%)] bg-[#f7f7f7] px-[3.5px] py-[1.68px] text-sm break-words;
  }

  .tiptap .is-empty.is-editor-empty[data-placeholder]::before {
    content: attr(data-placeholder);
    @apply text-secondary-foreground pointer-events-none absolute;
  }

  .dark .tiptap p code {
    @apply border border-[hsl(359,2%,24%)] bg-[#2a2828];
  }

  .tiptap pre {
    @apply mb-4;

    .hljs-keyword {
      color: oklch(53.5% 0.2058 2.84);
    }

    .hljs-title,
    .hljs-attr,
    .hljs-built_in {
      color: oklch(47.18% 0.2579 304);
    }

    .hljs-name,
    .hljs-string {
      color: oklch(51.75% 0.1453 147.65);
    }

    .hljs-comment {
      color: hsla(0, 0%, 40%, 1);
    }
  }

  .dark .tiptap pre {
    .hljs-keyword {
      color: oklch(69.36% 0.2223 3.91);
    }

    .hljs-title,
    .hljs-attr,
    .hljs-built_in {
      color: oklch(69.87% 0.2037 309.51);
    }

    .hljs-name,
    .hljs-string {
      color: oklch(73.1% 0.2158 148.29);
    }

    .hljs-comment {
      color: hsla(0, 0%, 63%, 1);
    }
  }

  .tiptap pre,
  .dark .tiptap pre {
    @apply bg-background text-foreground rounded-[6px] border p-5 font-mono text-[13px];

    .class_ {
      @apply text-foreground;
    }
  }
}
